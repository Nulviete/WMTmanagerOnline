import{r as _,H as k,_ as w,G as v,J as c,a7 as f,M as e,L as o,S as d,P as m,K as y,Q as M,T as h,a8 as b,O as g,Y as T,a4 as Q}from"./index.181651b6.js";import{Q as x}from"./QPage.fffa2538.js";import{Q as C,a as n,b as S}from"./QTable.4b516d1e.js";import"./use-key-composition.19db8c27.js";import"./uid.42677368.js";import"./QSelect.92bfe2dd.js";import"./scroll.76abc915.js";import"./QCheckbox.708760d2.js";const B=()=>{const i=_(null),l=_(!1),s=_(null);return{loadMembers:async()=>{try{const{data:a}=await k.from("members").select("*");s.value&&console.log(s),a&&(i.value=a,l.value=!0)}catch(a){s.value=a.message}},data:i,dataLoaded:l,error:s}};const E={class:"q-pa-md"},N={__name:"MembersTable",props:{members:{type:Array,default:()=>[]}},setup(i){const l=v(),s=i,u=[{name:"name",required:!0,label:"Name",align:"left",field:r=>r.name},{name:"position",label:"Position",align:"left",field:"position",format:r=>`${r}`,sortable:!0},{name:"country",label:"Country",align:"left",field:"country"},{name:"dateOfJoin",label:"Start",align:"left",field:"dateSince"},{name:"dateOfEnd",label:"End",align:"left",field:"dateTill"},{name:"edit",label:"Edit",align:"left",field:"dateTill"}],a=s.members,p=r=>{l.push({path:"/Members/"+r})};return(r,L)=>(c(),f("div",E,[e(S,{title:"Members",rows:b(a),columns:u,"row-key":"name",style:{width:"600px"}},{body:o(t=>[e(C,{props:t},{default:o(()=>[e(n,{key:"name"},{default:o(()=>[d(m(t.row.name),1)]),_:2},1024),e(n,{key:"position"},{default:o(()=>[d(m(t.row.position),1)]),_:2},1024),e(n,{key:"country"},{default:o(()=>[d(m(t.row.country),1)]),_:2},1024),e(n,{key:"dateOfJoin"},{default:o(()=>[d(m(t.row.dateSince),1)]),_:2},1024),e(n,{key:"dateOfEnd"},{default:o(()=>[d(m(t.row.dateTill),1)]),_:2},1024),e(n,{key:"edit"},{default:o(()=>[t.row.position==="Volunteer"||t.row.position==="Root Member"?(c(),y(M,{key:0,name:"mdi-pencil",size:"sm",onClick:P=>{p(t.row.id)}},null,8,["onClick"])):h("",!0)]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows"])]))}};var O=w(N,[["__scopeId","data-v-35249f3b"]]);const V={class:"row"},$=g("h5",null,"Membas",-1),q={key:0},J={key:1},Y={__name:"MembersManager",setup(i){const{loadMembers:l,data:s,dataLoaded:u,error:a}=B();return l(),a.value!==null&&console.log(a,"error message"),(p,r)=>(c(),y(x,{padding:""},{default:o(()=>[g("div",V,[$,e(T,{round:"",color:"primary",icon:"add",class:"self-center q-mx-sm",to:{name:"AddMember"}})]),b(u)?(c(),f("div",q,[e(O,{members:b(s)},null,8,["members"])])):(c(),f("div",J,[e(Q)]))]),_:1}))}};export{Y as default};
